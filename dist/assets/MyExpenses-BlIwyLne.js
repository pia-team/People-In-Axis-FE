import{j as t,B as h,g as x,V as u}from"./mui-CYe98n_K.js";import{c as i}from"./vendor-XBP3t-ED.js";import{b as f,k as y}from"./index--2Lk4t6e.js";import{e as S}from"./expenseService-YharjWb-.js";import{P as w}from"./PageContainer-BfQWlLPL.js";import{S as j}from"./SectionCard-4aLOeFJ3.js";import{N,s as z}from"./dataGridStyles-CXweFaFc.js";import{D as M}from"./DataGrid-BXsRbnco.js";import"./utils-BgeKWveL.js";const B=()=>{const[e,s]=i.useState({page:0,pageSize:10}),{data:r,isLoading:n,isError:d,refetch:p}=f({queryKey:["expenses","my",e.page,e.pageSize],queryFn:async()=>S.getMy({page:e.page,size:e.pageSize}),placeholderData:y}),a=r,l=(a==null?void 0:a.content)??[],m=(a==null?void 0:a.totalElements)??0,c=i.useMemo(()=>[{field:"expenseTypeName",headerName:"Type",flex:1,minWidth:140},{field:"projectName",headerName:"Project",flex:1.2,minWidth:160},{field:"expenseDate",headerName:"Date",width:120},{field:"amount",headerName:"Amount",width:120},{field:"currency",headerName:"Currency",width:100},{field:"status",headerName:"Status",width:140}],[]),g=o=>{s({page:o.page,pageSize:o.pageSize})};return t.jsx(w,{title:"My Expenses",actions:t.jsx(u,{variant:"outlined",onClick:()=>p(),children:"Refresh"}),children:t.jsxs(j,{children:[t.jsx(h,{sx:{height:600,width:"100%"},children:t.jsx(M,{rows:l,columns:c,getRowId:o=>o.id,loading:n,paginationMode:"server",rowCount:m,pageSizeOptions:[5,10,25,50],paginationModel:{page:e.page,pageSize:e.pageSize},onPaginationModelChange:g,disableRowSelectionOnClick:!0,sx:z,slots:{noRowsOverlay:N}})}),d&&t.jsx(x,{variant:"body2",color:"error",sx:{mt:2},children:"Failed to load your expenses."})]})})};export{B as default};
//# sourceMappingURL=MyExpenses-BlIwyLne.js.map
