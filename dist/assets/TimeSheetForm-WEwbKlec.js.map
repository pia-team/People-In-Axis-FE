{"version":3,"file":"TimeSheetForm-WEwbKlec.js","sources":["../../src/pages/timesheets/TimeSheetForm.tsx"],"sourcesContent":["import React from 'react';\nimport { Box, Typography, Paper, Stack, Button } from '@mui/material';\nimport { useMutation } from '@tanstack/react-query';\nimport { timeSheetService } from '@/services/timesheetService';\n\nconst TimeSheetForm: React.FC = () => {\n  const [file, setFile] = React.useState<File | null>(null);\n  const [result, setResult] = React.useState<string>('');\n\n  const { mutateAsync: importExcel, isPending } = useMutation({\n    mutationFn: async (f: File) => timeSheetService.importExcel(f),\n  });\n\n  const onUpload = async () => {\n    setResult('');\n    if (!file) return;\n    try {\n      const count = await importExcel(file);\n      setResult(`Imported ${count} timesheet rows.`);\n    } catch (e) {\n      setResult('Import failed.');\n    }\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        Import TimeSheets from Excel\n      </Typography>\n      <Paper sx={{ p: 3, mt: 2 }}>\n        <Stack spacing={2}>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Choose an .xlsx file to import timesheets. After a successful import, check the TimeSheets list.\n          </Typography>\n          <input type=\"file\" accept=\".xlsx,.xls\" onChange={(e) => setFile(e.target.files?.[0] ?? null)} />\n          <Stack direction=\"row\" spacing={2}>\n            <Button variant=\"contained\" onClick={onUpload} disabled={!file || isPending}>Upload</Button>\n            {result && <Typography>{result}</Typography>}\n          </Stack>\n        </Stack>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default TimeSheetForm;"],"names":["TimeSheetForm","file","setFile","React","result","setResult","importExcel","isPending","useMutation","f","timeSheetService","onUpload","count","Box","jsx","Typography","Paper","jsxs","Stack","_a","Button"],"mappings":"sQAKA,MAAMA,EAA0B,IAAM,CACpC,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAM,SAAsB,IAAI,EAClD,CAACC,EAAQC,CAAS,EAAIF,EAAM,SAAiB,EAAE,EAE/C,CAAE,YAAaG,EAAa,UAAAC,CAAA,EAAcC,EAAY,CAC1D,WAAY,MAAOC,GAAYC,EAAiB,YAAYD,CAAC,CAAA,CAC9D,EAEKE,EAAW,SAAY,CAE3B,GADAN,EAAU,EAAE,EACR,EAACJ,EACL,GAAI,CACF,MAAMW,EAAQ,MAAMN,EAAYL,CAAI,EACpCI,EAAU,YAAYO,CAAK,kBAAkB,CAC/C,MAAY,CACVP,EAAU,gBAAgB,CAC5B,CACF,EAEA,cACGQ,EAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAW,QAAQ,KAAK,UAAU,KAAK,aAAY,GAAC,SAAA,8BAAA,CAErD,EACAD,EAAAA,IAACE,EAAA,CAAM,GAAI,CAAE,EAAG,EAAG,GAAI,CAAA,EACrB,SAAAC,EAAAA,KAACC,EAAA,CAAM,QAAS,EACd,SAAA,CAAAJ,MAACC,EAAA,CAAW,QAAQ,QAAQ,MAAM,iBAAiB,SAAA,mGAEnD,QACC,QAAA,CAAM,KAAK,OAAO,OAAO,aAAa,SAAW,GAAA,OAAM,OAAAb,IAAQiB,EAAA,EAAE,OAAO,QAAT,YAAAA,EAAiB,KAAM,IAAI,GAAG,EAC9FF,EAAAA,KAACC,EAAA,CAAM,UAAU,MAAM,QAAS,EAC9B,SAAA,CAAAJ,EAAAA,IAACM,EAAA,CAAO,QAAQ,YAAY,QAAST,EAAU,SAAU,CAACV,GAAQM,EAAW,SAAA,QAAA,CAAM,EAClFH,GAAUU,EAAAA,IAACC,EAAA,CAAY,SAAAX,CAAA,CAAO,CAAA,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ"}