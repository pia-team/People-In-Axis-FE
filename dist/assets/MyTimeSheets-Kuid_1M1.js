import{j as e,B as u,g as S,V as y}from"./mui-CYe98n_K.js";import{c as i}from"./vendor-XBP3t-ED.js";import{b as x,k as f,t as j}from"./index--2Lk4t6e.js";import{P as w}from"./PageContainer-BfQWlLPL.js";import{S as M}from"./SectionCard-4aLOeFJ3.js";import{E as z,s as v}from"./dataGridStyles-CXweFaFc.js";import{D as C}from"./DataGrid-BXsRbnco.js";import"./utils-BgeKWveL.js";const T=()=>{const[t,r]=i.useState({page:0,pageSize:10}),{data:n,isLoading:d,isError:l,refetch:s}=x({queryKey:["timesheets","my",t.page,t.pageSize],queryFn:async()=>j.getMy({page:t.page,size:t.pageSize}),placeholderData:f}),a=n,m=(a==null?void 0:a.content)??[],p=(a==null?void 0:a.totalElements)??0,h=i.useMemo(()=>[{field:"projectName",headerName:"Project",flex:1.2,minWidth:160},{field:"workDate",headerName:"Date",width:120},{field:"hoursWorked",headerName:"Hours",width:120},{field:"status",headerName:"Status",width:140}],[]),c=o=>{r({page:o.page,pageSize:o.pageSize})},g=i.useCallback(()=>e.jsx(z,{title:"No timesheets",description:"You have no timesheets to display."}),[s]);return e.jsx(w,{title:"My TimeSheets",actions:e.jsx(y,{variant:"outlined",onClick:()=>s(),children:"Refresh"}),children:e.jsxs(M,{children:[e.jsx(u,{sx:{height:600,width:"100%"},children:e.jsx(C,{rows:m,columns:h,getRowId:o=>o.id,loading:d,paginationMode:"server",rowCount:p,pageSizeOptions:[5,10,25,50],paginationModel:{page:t.page,pageSize:t.pageSize},onPaginationModelChange:c,disableRowSelectionOnClick:!0,sx:v,slots:{noRowsOverlay:g}})}),l&&e.jsx(S,{variant:"body2",color:"error",sx:{mt:2},children:"Failed to load your timesheets."})]})})};export{T as default};
//# sourceMappingURL=MyTimeSheets-Kuid_1M1.js.map
