import{j as e,O as n,a8 as y,V as l,g as N}from"./mui-CYe98n_K.js";import{c as s}from"./vendor-XBP3t-ED.js";import{b as j,k as v}from"./index--2Lk4t6e.js";import{e as w}from"./employeeService-DDgcpw79.js";import{P as C}from"./PageContainer-BfQWlLPL.js";import{S as d}from"./SectionCard-4aLOeFJ3.js";import{N as z,s as M}from"./dataGridStyles-CXweFaFc.js";import{D as R}from"./DataGrid-BXsRbnco.js";import"./utils-BgeKWveL.js";const q=()=>{const[o,m]=s.useState(""),[t,c]=s.useState({page:0,pageSize:10}),{data:h,isLoading:p,isError:g,refetch:r}=j({queryKey:["users",t.page,t.pageSize,o],queryFn:async()=>w.getAll({page:t.page,size:t.pageSize,search:o||void 0}),placeholderData:v}),i=h,u=(i==null?void 0:i.content)??[],f=(i==null?void 0:i.totalElements)??0,x=s.useMemo(()=>[{field:"employeeCode",headerName:"Code",width:120},{field:"fullName",headerName:"Name",flex:1.2,minWidth:160,valueGetter:a=>a.row.fullName||`${a.row.firstName??""} ${a.row.lastName??""}`.trim()},{field:"email",headerName:"Email",flex:1.3,minWidth:200},{field:"companyName",headerName:"Company",flex:1,minWidth:140},{field:"departmentName",headerName:"Department",flex:1,minWidth:140},{field:"status",headerName:"Status",width:120}],[]),S=a=>{c({page:a.page,pageSize:a.pageSize})};return e.jsx(C,{title:"User Management",actions:e.jsx(l,{variant:"outlined",onClick:()=>r(),children:"Refresh"}),children:e.jsxs(n,{spacing:2,children:[e.jsx(d,{children:e.jsxs(n,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"center"},children:[e.jsx(y,{size:"small",label:"Search",value:o,onChange:a=>m(a.target.value)}),e.jsx(l,{variant:"contained",onClick:()=>r(),children:"Search"})]})}),e.jsxs(d,{children:[e.jsx("div",{style:{height:600,width:"100%"},children:e.jsx(R,{rows:u,columns:x,getRowId:a=>a.id,loading:p,paginationMode:"server",rowCount:f,pageSizeOptions:[5,10,25,50],paginationModel:{page:t.page,pageSize:t.pageSize},onPaginationModelChange:S,disableRowSelectionOnClick:!0,sx:M,slots:{noRowsOverlay:z}})}),g&&e.jsx(N,{variant:"body2",color:"error",sx:{mt:2},children:"Failed to load users."})]})]})})};export{q as default};
//# sourceMappingURL=UserManagement-8BPxhQiY.js.map
