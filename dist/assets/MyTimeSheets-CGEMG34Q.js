import{j as e,B as u,e as o,G as x,K as S,O as f}from"./mui-DyWukRpy.js";import{c as r}from"./vendor-zvfEP8kw.js";import{u as y}from"./useQuery-FIUzu5rJ.js";import{t as j}from"./timesheetService-QrriUvCW.js";import{D as w}from"./DataGrid-CLJ1UgxA.js";import{k as z}from"./index-CjnpFxxd.js";import"./utils-IvyUKLVR.js";const R=()=>{const[t,s]=r.useState({page:0,pageSize:10}),{data:n,isLoading:d,isError:p,refetch:c}=y({queryKey:["timesheets","my",t.page,t.pageSize],queryFn:async()=>j.getMy({page:t.page,size:t.pageSize}),placeholderData:z}),a=n,m=(a==null?void 0:a.content)??[],h=(a==null?void 0:a.totalElements)??0,l=r.useMemo(()=>[{field:"projectName",headerName:"Project",flex:1.2,minWidth:160},{field:"workDate",headerName:"Date",width:120},{field:"hoursWorked",headerName:"Hours",width:120},{field:"status",headerName:"Status",width:140}],[]),g=i=>{s({page:i.page,pageSize:i.pageSize})};return e.jsxs(u,{children:[e.jsx(o,{variant:"h4",component:"h1",gutterBottom:!0,children:"My TimeSheets"}),e.jsxs(x,{sx:{p:2,mt:2},children:[e.jsx(S,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:e.jsx(f,{variant:"outlined",onClick:()=>c(),children:"Refresh"})}),e.jsx("div",{style:{height:600,width:"100%"},children:e.jsx(w,{rows:m,columns:l,getRowId:i=>i.id,loading:d,paginationMode:"server",rowCount:h,pageSizeOptions:[5,10,25,50],paginationModel:{page:t.page,pageSize:t.pageSize},onPaginationModelChange:g,disableRowSelectionOnClick:!0})}),p&&e.jsx(o,{variant:"body2",color:"error",sx:{mt:2},children:"Failed to load your timesheets."})]})]})};export{R as default};
//# sourceMappingURL=MyTimeSheets-CGEMG34Q.js.map
