{"version":3,"file":"MyExpenses-BlIwyLne.js","sources":["../../src/pages/expenses/MyExpenses.tsx"],"sourcesContent":["import React from 'react';\nimport { Box, Typography, Button } from '@mui/material';\nimport { DataGrid, GridColDef, GridPaginationModel } from '@mui/x-data-grid';\nimport { useQuery, keepPreviousData } from '@tanstack/react-query';\nimport { expenseService } from '@/services/expenseService';\nimport { Expense, PaginatedResponse } from '@/types';\nimport PageContainer from '@/components/ui/PageContainer';\nimport SectionCard from '@/components/ui/SectionCard';\nimport { standardDataGridSx, NoRowsOverlay } from '@/components/ui/dataGridStyles';\n\nconst MyExpenses: React.FC = () => {\n  const [paginationModel, setPaginationModel] = React.useState<{ page: number; pageSize: number }>(\n    { page: 0, pageSize: 10 }\n  );\n\n  const { data, isLoading, isError, refetch } = useQuery({\n    queryKey: ['expenses', 'my', paginationModel.page, paginationModel.pageSize],\n    queryFn: async () => expenseService.getMy({ page: paginationModel.page, size: paginationModel.pageSize }),\n    placeholderData: keepPreviousData,\n  });\n\n  const page = data as PaginatedResponse<Expense> | undefined;\n  const rows: Expense[] = page?.content ?? [];\n  const rowCount = page?.totalElements ?? 0;\n\n  const columns = React.useMemo<GridColDef<Expense>[]>(\n    () => [\n      { field: 'expenseTypeName', headerName: 'Type', flex: 1, minWidth: 140 },\n      { field: 'projectName', headerName: 'Project', flex: 1.2, minWidth: 160 },\n      { field: 'expenseDate', headerName: 'Date', width: 120 },\n      { field: 'amount', headerName: 'Amount', width: 120 },\n      { field: 'currency', headerName: 'Currency', width: 100 },\n      { field: 'status', headerName: 'Status', width: 140 },\n    ],\n    []\n  );\n\n  const handlePaginationChange = (model: GridPaginationModel) => {\n    setPaginationModel({ page: model.page, pageSize: model.pageSize });\n  };\n\n  return (\n    <PageContainer title=\"My Expenses\" actions={<Button variant=\"outlined\" onClick={() => refetch()}>Refresh</Button>}>\n      <SectionCard>\n        <Box sx={{ height: 600, width: '100%' }}>\n          <DataGrid\n            rows={rows}\n            columns={columns}\n            getRowId={(row) => row.id}\n            loading={isLoading}\n            paginationMode=\"server\"\n            rowCount={rowCount}\n            pageSizeOptions={[5, 10, 25, 50]}\n            paginationModel={{ page: paginationModel.page, pageSize: paginationModel.pageSize }}\n            onPaginationModelChange={handlePaginationChange}\n            disableRowSelectionOnClick\n            sx={standardDataGridSx}\n            slots={{ noRowsOverlay: NoRowsOverlay }}\n          />\n        </Box>\n        {isError && (\n          <Typography variant=\"body2\" color=\"error\" sx={{ mt: 2 }}>\n            Failed to load your expenses.\n          </Typography>\n        )}\n      </SectionCard>\n    </PageContainer>\n  );\n};\n\nexport default MyExpenses;"],"names":["MyExpenses","paginationModel","setPaginationModel","React","data","isLoading","isError","refetch","useQuery","expenseService","keepPreviousData","page","rows","rowCount","columns","handlePaginationChange","model","PageContainer","Button","SectionCard","jsx","Box","DataGrid","row","standardDataGridSx","NoRowsOverlay","Typography"],"mappings":"4ZAUA,MAAMA,EAAuB,IAAM,CACjC,KAAM,CAACC,EAAiBC,CAAkB,EAAIC,EAAM,SAClD,CAAE,KAAM,EAAG,SAAU,EAAA,CAAG,EAGpB,CAAE,KAAAC,EAAM,UAAAC,EAAW,QAAAC,EAAS,QAAAC,CAAA,EAAYC,EAAS,CACrD,SAAU,CAAC,WAAY,KAAMP,EAAgB,KAAMA,EAAgB,QAAQ,EAC3E,QAAS,SAAYQ,EAAe,MAAM,CAAE,KAAMR,EAAgB,KAAM,KAAMA,EAAgB,SAAU,EACxG,gBAAiBS,CAAA,CAClB,EAEKC,EAAOP,EACPQ,GAAkBD,GAAA,YAAAA,EAAM,UAAW,CAAA,EACnCE,GAAWF,GAAA,YAAAA,EAAM,gBAAiB,EAElCG,EAAUX,EAAM,QACpB,IAAM,CACJ,CAAE,MAAO,kBAAmB,WAAY,OAAQ,KAAM,EAAG,SAAU,GAAA,EACnE,CAAE,MAAO,cAAe,WAAY,UAAW,KAAM,IAAK,SAAU,GAAA,EACpE,CAAE,MAAO,cAAe,WAAY,OAAQ,MAAO,GAAA,EACnD,CAAE,MAAO,SAAU,WAAY,SAAU,MAAO,GAAA,EAChD,CAAE,MAAO,WAAY,WAAY,WAAY,MAAO,GAAA,EACpD,CAAE,MAAO,SAAU,WAAY,SAAU,MAAO,GAAA,CAAI,EAEtD,CAAA,CAAC,EAGGY,EAA0BC,GAA+B,CAC7Dd,EAAmB,CAAE,KAAMc,EAAM,KAAM,SAAUA,EAAM,SAAU,CACnE,EAEA,aACGC,EAAA,CAAc,MAAM,cAAc,cAAUC,EAAA,CAAO,QAAQ,WAAW,QAAS,IAAMX,IAAW,SAAA,SAAA,CAAO,EACtG,gBAACY,EAAA,CACC,SAAA,CAAAC,MAACC,GAAI,GAAI,CAAE,OAAQ,IAAK,MAAO,QAC7B,SAAAD,EAAAA,IAACE,EAAA,CACC,KAAAV,EACA,QAAAE,EACA,SAAWS,GAAQA,EAAI,GACvB,QAASlB,EACT,eAAe,SACf,SAAAQ,EACA,gBAAiB,CAAC,EAAG,GAAI,GAAI,EAAE,EAC/B,gBAAiB,CAAE,KAAMZ,EAAgB,KAAM,SAAUA,EAAgB,QAAA,EACzE,wBAAyBc,EACzB,2BAA0B,GAC1B,GAAIS,EACJ,MAAO,CAAE,cAAeC,CAAA,CAAc,CAAA,EAE1C,EACCnB,GACCc,EAAAA,IAACM,EAAA,CAAW,QAAQ,QAAQ,MAAM,QAAQ,GAAI,CAAE,GAAI,CAAA,EAAK,SAAA,+BAAA,CAEzD,CAAA,CAAA,CAEJ,CAAA,CACF,CAEJ"}