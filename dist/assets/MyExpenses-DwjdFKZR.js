import{j as e,B as u,e as o,G as x,K as y,O as f}from"./mui-DyWukRpy.js";import{c as n}from"./vendor-zvfEP8kw.js";import{u as S}from"./useQuery-FIUzu5rJ.js";import{e as j}from"./expenseService-Dm-Xs5Id.js";import{D as w}from"./DataGrid-CLJ1UgxA.js";import{k as z}from"./index-CjnpFxxd.js";import"./utils-IvyUKLVR.js";const E=()=>{const[a,r]=n.useState({page:0,pageSize:10}),{data:s,isLoading:d,isError:p,refetch:c}=S({queryKey:["expenses","my",a.page,a.pageSize],queryFn:async()=>j.getMy({page:a.page,size:a.pageSize}),placeholderData:z}),t=s,l=(t==null?void 0:t.content)??[],m=(t==null?void 0:t.totalElements)??0,h=n.useMemo(()=>[{field:"expenseTypeName",headerName:"Type",flex:1,minWidth:140},{field:"projectName",headerName:"Project",flex:1.2,minWidth:160},{field:"expenseDate",headerName:"Date",width:120},{field:"amount",headerName:"Amount",width:120},{field:"currency",headerName:"Currency",width:100},{field:"status",headerName:"Status",width:140}],[]),g=i=>{r({page:i.page,pageSize:i.pageSize})};return e.jsxs(u,{children:[e.jsx(o,{variant:"h4",component:"h1",gutterBottom:!0,children:"My Expenses"}),e.jsxs(x,{sx:{p:2,mt:2},children:[e.jsx(y,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:e.jsx(f,{variant:"outlined",onClick:()=>c(),children:"Refresh"})}),e.jsx("div",{style:{height:600,width:"100%"},children:e.jsx(w,{rows:l,columns:h,getRowId:i=>i.id,loading:d,paginationMode:"server",rowCount:m,pageSizeOptions:[5,10,25,50],paginationModel:{page:a.page,pageSize:a.pageSize},onPaginationModelChange:g,disableRowSelectionOnClick:!0})}),p&&e.jsx(o,{variant:"body2",color:"error",sx:{mt:2},children:"Failed to load your expenses."})]})]})};export{E as default};
//# sourceMappingURL=MyExpenses-DwjdFKZR.js.map
